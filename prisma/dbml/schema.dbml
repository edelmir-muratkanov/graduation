//// ------------------------------------------------------
//// THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
//// ------------------------------------------------------

Table users {
  id String [pk]
  email String [unique, not null]
  passwordHash String [not null]
  refreshTokenHash String
  role Role [not null, default: 'User']
  projects projects_users [not null]
}

Table properties {
  id String [pk]
  name String [unique, not null]
  methods methods_properties [not null]
  projects projects_properties [not null]
}

Table methods_properties {
  method methods [not null]
  methodId String [not null]
  property properties [not null]
  propertyId String [not null]
  parameters Json [not null]

  indexes {
    (methodId, propertyId) [pk]
  }
}

Table methods {
  id String [pk]
  name String [unique, not null]
  parameters methods_properties [not null]
  projects projects_methods [not null]
}

Table projects {
  id String [pk]
  name String [not null]
  country String [not null]
  operator String [not null]
  parameters projects_properties [not null]
  methods projects_methods [not null]
  users projects_users [not null]
}

Table projects_properties {
  project projects [not null]
  projectId String [not null]
  property properties [not null]
  propertyId String [not null]
  value Float [not null]

  indexes {
    (projectId, propertyId) [pk]
  }
}

Table projects_methods {
  project projects [not null]
  projectId String [not null]
  method methods [not null]
  methodId String [not null]

  indexes {
    (methodId, projectId) [pk]
  }
}

Table projects_users {
  project projects [not null]
  projectId String [not null]
  user users [not null]
  userId String [not null]

  indexes {
    (userId, projectId) [pk]
  }
}

Enum Role {
  User
  Admin
}

Ref: methods_properties.methodId > methods.id

Ref: methods_properties.propertyId > properties.id

Ref: projects_properties.projectId > projects.id

Ref: projects_properties.propertyId > properties.id

Ref: projects_methods.projectId > projects.id

Ref: projects_methods.methodId > methods.id

Ref: projects_users.projectId > projects.id

Ref: projects_users.userId > users.id